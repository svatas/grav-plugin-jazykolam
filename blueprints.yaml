name: Jazykolam
slug: jazykolam
type: plugin
version: 1.6.1
schema: 1.0.0
description: i18n Twig filters with per-render locale, DEBUG markers/panel/console, Gantry 5 integration, and auto-injected panel (smart mode).
icon: language
license: MIT

form:
  validation: strict
  fields:
    enabled:
      type: toggle
      label: Plugin status
      highlight: 1
      default: 1
      options: { 1: Enabled, 0: Disabled }
      validate: { type: bool }

    default_locale:
      type: text
      label: Default locale (leave empty for active Grav language)

    prefer_languages_yaml:
      type: toggle
      label: Prefer site languages.yaml overrides
      highlight: 1
      default: 1
      options: { 1: Yes, 0: No }

    auto_override:
      type: fieldset
      title: Automatic Overrides
      fields:
        auto_override.t:
          type: toggle
          label: Override |t, |tu, |tl, |trans
          default: 1
          options: { 1: Yes, 0: No }
        auto_override.nicetime:
          type: toggle
          label: Override |nicetime (use jazykolam_time)
          default: 1
          options: { 1: Yes, 0: No }
        auto_override.gantry:
          type: toggle
          label: Register into Gantry Twig (if available)
          default: 1
          options: { 1: Yes, 0: No }

    debug:
      type: fieldset
      title: Debug
      collapsed: false
      fields:
        debug.enabled:
          type: toggle
          label: Enable DEBUG markers
          default: 0
          options: { 1: Enabled, 0: Disabled }

        debug.inject:
          type: select
          label: Auto-inject panel & console
          default: false
          options:
            false: Disabled
            true: Enabled (always)
            smart: Smart (only authenticated Admin)

        debug.inject_exclude_routes:
          type: list
          label: Exclude routes (regex)
          placeholder: '^/api/'

        debug.inject_block_bots:
          type: toggle
          label: Skip known bots (User-Agent)
          default: 1
          options: { 1: Yes, 0: No }

        debug.inject_skip_json:
          type: toggle
          label: Skip JSON responses (Accept/Content-Type)
          default: 1
          options: { 1: Yes, 0: No }

        debug.inject_skip_xhr:
          type: toggle
          label: Skip XHR (XMLHttpRequest)
          default: 1
          options: { 1: Yes, 0: No }

        debug.mode:
          type: select
          label: Mode
          default: inline
          options:
            inline: Inline markers (‹JL:…›)
            wrap: Wrap only (no prefix/suffix)
        debug.marker_prefix:
          type: text
          label: Marker prefix
          default: '‹JL:'
        debug.marker_suffix:
          type: text
          label: Marker suffix
          default: '›'
        debug.badge:
          type: text
          label: Badge label
          default: 'JL'
        debug.max_entries:
          type: number
          label: Max entries in panel
          default: 200
        debug.console:
          type: toggle
          label: Export to browser console (console.table)
          default: 0
          options: { 1: Enabled, 0: Disabled }
        debug.copy_curl:
          type: toggle
          label: Show "Copy as cURL" button
          default: 1
          options: { 1: Yes, 0: No }
